import numpy as np
import matplotlib.pyplot as plt

pts = np.array([(28.346457000000001, 508.11023),
                (28.346457000000001, 508.11023),
                (53.294691999999998, 482.28086999999999),
                (50.668734999999998, 442.84222),
                (69.347521999999998, 413.47221000000002),
                (81.483351999999996, 383.53652),
                (102.30777, 358.29965000000004),
                (117.69268, 330.2158),
                (145.78829999999999, 311.60843999999997),
                (151.92464000000001, 363.90237000000002),
                (161.21335999999999, 381.87074000000001),
                (177.11297999999999, 429.35270000000003),
                (183.10276999999999, 480.98863),
                (208.37806999999998, 524.85823000000005),
                (221.42312999999999, 549.37076999999999),
                (251.04676999999998, 551.36563000000001),
                (275.18014999999997, 545.71984000000009),
                (305.97752999999994, 539.69602000000009),
                (309.36193999999995, 503.30803000000009),
                (322.20146, 480.16667000000007),
                (335.65382, 449.58101000000005),
                (345.00315000000001, 417.39005000000009),
                (354.82580000000002, 385.6141100000001),
                (372.31478000000004, 362.79308000000009),
                (405.94245000000001, 364.18015000000008),
                (431.56397000000004, 358.84060000000011),
                (456.55499000000003, 368.90721000000013),
                (453.90738000000005, 401.51733000000013),
                (460.13770000000005, 423.47862000000009),
                (470.09954000000005, 470.11794000000009),
                (484.16080000000005, 515.97158000000013),
                (499.95233000000007, 560.88148000000012),
                (509.31283000000008, 583.73540000000014),
                (535.8872100000001, 612.15767000000017),
                (561.26717000000008, 593.38187000000016),
                (591.75439000000006, 568.38197000000014),
                (604.14414000000011, 529.25301000000013),
                (621.37835000000007, 495.22399000000019),
                (636.92610000000002, 457.43041000000017),
                (651.28831000000002, 418.40053000000017),
                (671.67051000000004, 383.12982000000017),
                (674.33199000000002, 379.05914000000018),
                (692.33717999999999, 369.34150000000017),
                (680.31496000000004, 380.55118000000016),
                (680.31496000000004, 380.55118000000016)])

x,y = pts.T
#plt.plot(x, y, 'ro')
plt.plot(x, y, 'b-')


zigzag = []

for i in range(len(pts)-1):
    d = 5.0
    point1 = pts[i]
    point2 = pts[i+1]
    x1, y1 = pts[i]
    x2, y2 = pts[i+1]
    mid = (point1 + point2)/2.0
    mid = [mid[0], mid[1]]
    perp_vector = [(y1 - y2), (x2-x1)]

    denom = np.sqrt((y1-y2)**2 + (x2 - x1)**2)
    if denom > 10000.0:
        denom = 10000.0

    dist = d / denom
    if dist >10000.0:
        dist = 10000.0

    temp = [dist * perp_vector[0], dist * perp_vector[1]]
    point3 = [point1[0] + temp[0], point1[1] + temp[1]]
    point4 = [mid[0] - temp[0], mid[1] - temp[1]]
    zigzag.append(point3)
    zigzag.append(point4)

print zigzag
x,y = np.array(zigzag).T
plt.plot(x, y, 'g')
#plt.plot(x, y, 'b-')


plt.show()




